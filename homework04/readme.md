# VK api

## `age.py`
- Predict user age based on his friend's age

![age.py](https://i.imgur.com/E0w5sld.gif)

### Usage

```
python age.py SCREEN_NAME
```
<details>
    <summary>
        What is screen name?
    </summary>
<img src="https://i.imgur.com/AeIXzcD.png"/><br><br>
</details>



## `network.py`
- Graphs mutual friends of provided users

![98LNYNh.png](https://i.imgur.com/98LNYNh.png)

### Usage

- Accepts comma separated list of screen names **without spaces**
```
python network.py SCREEN_NAME1,SCREEN_NAME2...
```


## `model.py`
- Builds topic model from provided VK groups

![jEUcQEP.png](https://i.imgur.com/jEUcQEP.png)


### Usage

`--domain DOMAIN1 DOMAIN2...` - user or community short address
`--owner_id ID1 ID2...` - ID of the user or community that owns the wall. By default, current user ID. Use a negative value to designate a community ID.
`--num_topics N` - (Optional) The number of requested latent topics to be extracted from the training corpus. Default: 4


#### Examples
```
python model.py --owner_id noize_mc
```

```
python model.py --domain noizemc
```

```
python model.py --domain itmem noizemc
```

```
python model.py --domain itmem --owner_id noize_mc --num_topics 5
```

___
## Installation



### Requirements
```
pip install requirements.txt
```
<details>
    <summary>
        What in here?
    </summary>
        &nbsp;&nbsp;cairocffi<br>
        &nbsp;&nbsp;numpy<br>
        &nbsp;&nbsp;pymorphy2<br>
        &nbsp;&nbsp;gensim<br>
        &nbsp;&nbsp;tqdm<br>
        &nbsp;&nbsp;pandas<br>
        &nbsp;&nbsp;pymorphy2<br>
        &nbsp;&nbsp;pydantic<br>
        &nbsp;&nbsp;pyLDAvis<br>
        &nbsp;&nbsp;nltk<br>
</details><br>

#### Additional for `network.py`
(Windows) from [this site](https://www.lfd.uci.edu/~gohlke/pythonlibs/#pycairo) download `igraph`, `pycario` for your system

```
pip install python_igraph-0.7.1.post6-cp37-cp37m-win_amd64.whl 
pip install pycairo-1.18.2-cp37-cp37m-win_amd64.whl
```


#### Additional for `model.py`

```
python -m nltk.downloader stopwords
```

### Access tokens

- App ID and service token avalible [here](https://vk.com/apps?act=manage) in `My apps` - `Manage` - `Settings`
- Service token can be used instead of access token generated by `access_token.py`
- Optional permission codes avalible [here](https://vk.com/dev/permissions)

```
python access_token.py APP_ID PERMISSON_CODE
```

### `config.py`
1. Create `config.py` with following content
```
VK_CONFIG = {
    'domain': 'https://api.vk.com/method',
    'access_token': 'YOUR_SERVICE OR ACCESS_TOKEN',
    'version': '5.87',
}
```
2. Insert your [Access token](#access-tokens)
